[{"testCaseId":"TC-US001-01","status":"passed","evidence":"bun run src/cli.ts create issue exits with code 1; stderr contains 'Missing required --agent <provider> argument.' (includes --agent)","notes":"Verified via parseAgentArg in agent.ts and CLI routing in cli.ts"},{"testCaseId":"TC-US001-02","status":"passed","evidence":"bun run src/cli.ts create issue --agent invalid-provider exits 1; stderr contains 'Unknown agent provider'","notes":"parseProvider throws for invalid provider; valid: claude, codex, gemini, cursor"},{"testCaseId":"TC-US001-03","status":"passed","evidence":"bun run src/cli.ts create issue --agent claude --unknown-flag exits 1; stderr contains 'Unknown option'","notes":"postAgentArgs check at cli.ts:272 rejects --unknown-flag"},{"testCaseId":"TC-US001-04","status":"passed","evidence":"AgentOutputSchema.safeParse rejects invalid shape (e.g. missing description); validation at create-issue.ts:104-110 before write","notes":"AgentOutputSchema requires title and description per item"},{"testCaseId":"TC-US001-05","status":"passed","evidence":"Valid agent output mapped to issues with id ISSUE-{iteration}-{seq} and status open; IssuesSchema.safeParse succeeds","notes":"Logic at create-issue.ts:113-118"},{"testCaseId":"TC-US001-06","status":"passed","evidence":"Output path is .agents/flow/it_{iteration}_ISSUES.json per create-issue.ts:67-69","notes":"outputFileName = it_${iteration}_ISSUES.json, outputRelPath = join(FLOW_REL_DIR, outputFileName)"},{"testCaseId":"TC-US001-07","status":"passed","evidence":"IssuesSchema.safeParse accepts valid issues array; schema enforces id, title, description, status and unique IDs","notes":"scaffold/schemas/tmpl_issues.ts"},{"testCaseId":"TC-US001-08","status":"passed","evidence":"extractJson parses from ```json fences and raw [...] array; unit tests in create-issue.test.ts pass","notes":"create-issue.ts:328-356"},{"testCaseId":"TC-US001-09","status":"passed","evidence":"create issue without --agent exits 1; cli.ts catch sets process.exitCode=1 on error","notes":"Success exit 0 requires valid agent flow"},{"testCaseId":"TC-US001-10","status":"passed","evidence":"write-json --schema issues accepts valid data (exit 0), rejects invalid (exit 1 with error); unit tests pass","notes":"write-json.ts validates via IssuesSchema"},{"testCaseId":"TC-US001-11","status":"passed","evidence":"bunx tsc --noEmit completes with exit 0","notes":"TypeScript strict mode, no build step"},{"testCaseId":"TC-US002-01","status":"passed","evidence":"isActionableStatus returns true for failed, skipped, invocation_failed","notes":"ACTIONABLE_STATUSES at create-issue.ts:184-188"},{"testCaseId":"TC-US002-02","status":"passed","evidence":"isActionableStatus returns false for passed and unknown values","notes":"Only ACTIONABLE_STATUSES array values return true"},{"testCaseId":"TC-US002-03","status":"passed","evidence":"buildIssuesFromTestResults converts actionable tests to issues with status open; unit test passes","notes":"create-issue.ts:190-213"},{"testCaseId":"TC-US002-04","status":"passed","evidence":"buildIssuesFromTestResults includes notes and evidence in description; unit test passes","notes":"Description built at create-issue.ts:200-210"},{"testCaseId":"TC-US002-05","status":"passed","evidence":"buildIssuesFromTestResults filters out passing tests; unit test passes","notes":"Filter uses isActionableStatus"},{"testCaseId":"TC-US002-06","status":"passed","evidence":"buildIssuesFromTestResults returns empty array when all pass; unit test passes","notes":"actionable filter yields []"},{"testCaseId":"TC-US002-07","status":"passed","evidence":"Generated issues from buildIssuesFromTestResults pass IssuesSchema; unit test passes","notes":"IssuesSchema.safeParse(issues) in runCreateIssueFromTestReport"},{"testCaseId":"TC-US002-08","status":"passed","evidence":"Issue IDs unique and sequential ISSUE-{iteration}-{seq}; unit test passes","notes":"ID format with padStart(3,'0')"},{"testCaseId":"TC-US002-09","status":"passed","evidence":"runCreateIssueFromTestReport checks exists(flowPath) first at create-issue.ts:226-227","notes":"flowPath = .agents/flow/it_{iter}_test-execution-results.json"},{"testCaseId":"TC-US002-10","status":"skipped","evidence":"Fallback logic exists at create-issue.ts:228-242 using state.history","notes":"Cannot verify without archived iteration with results; current iter 000008 has flow file"},{"testCaseId":"TC-US002-11","status":"passed","evidence":"Error thrown when file missing: 'Test execution results file not found: looked for ... in .agents/flow/ and archived path'","notes":"create-issue.ts:248-250; verified when flow file absent"},{"testCaseId":"TC-US002-12","status":"passed","evidence":"runCreateIssueFromTestReport writes via write-json to .agents/flow/it_{iteration}_ISSUES.json","notes":"outputRelPath at create-issue.ts:288-289; it_000008_test-execution-results.json exists"},{"testCaseId":"TC-US002-13","status":"passed","evidence":"create issue --test-execution-report --extra-flag exits 1; stderr contains 'Unknown option'","notes":"cli.ts:261-265 rejects remaining args"},{"testCaseId":"TC-US002-14","status":"passed","evidence":"create issue --test-execution-report does not require --agent; branch at cli.ts:259-268","notes":"No parseAgentArg when --test-execution-report present"},{"testCaseId":"TC-US002-15","status":"passed","evidence":"bunx tsc --noEmit completes with exit 0","notes":"Typecheck passes"},{"testCaseId":"TC-FR1-01","status":"passed","evidence":"create issue without --agent and without --test-execution-report fails; parseAgentArg throws","notes":"Same as TC-US001-01"},{"testCaseId":"TC-FR1-02","status":"passed","evidence":"create issue --agent claude --test-execution-report exits 1; --agent treated as unknown option in test-execution-report branch","notes":"cli.ts:259-265"},{"testCaseId":"TC-FR1-03","status":"passed","evidence":"create issue --test-execution-report --agent claude exits 1; same as TC-FR1-02","notes":"Flag order irrelevant; --test-execution-report branch runs first"},{"testCaseId":"TC-FR6-01","status":"passed","evidence":"IssuesSchema.safeParse accepts valid array with id, title, description, status","notes":"Unit test in create-issue.test.ts"},{"testCaseId":"TC-FR6-02","status":"passed","evidence":"IssuesSchema rejects duplicate IDs via refine","notes":"tmpl_issues.ts refine checks unique IDs"},{"testCaseId":"TC-FR6-03","status":"passed","evidence":"IssuesSchema rejects status 'closed'; enum allows only open|fixed","notes":"z.enum(['open','fixed']) in tmpl_issues.ts"},{"testCaseId":"TC-FR6-04","status":"passed","evidence":"IssuesSchema rejects missing required fields (description, status)","notes":"IssueSchema requires id, title, description, status"},{"testCaseId":"TC-FR6-05","status":"passed","evidence":"IssuesSchema rejects non-array input","notes":"z.array(IssueSchema) rejects object"}]
